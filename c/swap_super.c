#include<stdio.h>
const unsigned char code[] = 
	"\x55\x48\x89\xe5\x48\x89\x7d\xf8\x48\x89\x75\xf0"\
	"\x48\x8b\x75\xf8\x8b\x06\x89\x45\xec\x48\x8b\x75"\
	"\xf0\x8b\x06\x48\x8b\x75\xf8\x89\x06\x8b\x45\xec"\
	"\x48\x8b\x75\xf0\x89\x06\x5d\xc3\x0f\x1f\x40\x00";


void main() {
	int a = 1;
	int b = 2;
	void (*func)(int*, int*);
	func = (void*) code;
	func(&a, &b);
	printf("a= %d, b = %d\n", a, b);
}
